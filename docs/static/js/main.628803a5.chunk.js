(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},50:function(e,t,a){e.exports=a(80)},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},68:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(44),c=a.n(o),i=(a(55),a(7)),l=a(8),s=a(10),u=a(9),m=a(11),d=a(45),p=a.n(d),h=(a(56),a(3)),g=(a(57),function(e){return r.a.createElement("article",{className:"product-item"},r.a.createElement("div",{className:"product-item__image",style:{backgroundImage:"url('"+e.imageUrl+"')"}}),r.a.createElement("div",{className:"product-item__content"},r.a.createElement("h1",null,e.title),r.a.createElement("h2",null,"$",e.price),r.a.createElement("p",null,e.text),r.a.createElement("div",{className:"product-item__controls"},r.a.createElement(h.b,{to:"/products/"+e.id},"Details"),r.a.createElement(h.b,{to:"/products/"+e.id+"/edit"},"Edit"),r.a.createElement("button",{onClick:e.onDelete.bind(void 0,e.id)},"Delete"))))}),f=a(16),E=(a(62),function(e){var t=r.a.createElement("ul",{className:"main-header__nav-items"},r.a.createElement("li",{className:"main-header__nav-item"},r.a.createElement(h.c,{to:"/products"},"Products")),r.a.createElement("li",{className:"main-header__nav-item"},r.a.createElement(h.c,{to:"/product/add"},"Add Product")),r.a.createElement("li",{className:"main-header__nav-item"},r.a.createElement("button",{onClick:e.onLogout},"Logout")));return e.authenticated||(t=r.a.createElement("ul",{className:"main-header__nav-items"},r.a.createElement("li",{className:"main-header__nav-item"},r.a.createElement(h.c,{to:"/auth"},"Authenticate")))),r.a.createElement("header",{className:"main-header"},r.a.createElement("nav",{className:"main-header__nav"},t))}),b=(a(63),a(64),function(e){return r.a.createElement("button",Object.assign({className:"button"},e),e.children)}),v=function(e){return r.a.createElement("div",{className:"modal ".concat(e.open?"open":"")},r.a.createElement("header",{className:"modal__header"},r.a.createElement("h1",null,e.title)),r.a.createElement("section",{className:"modal__content"},e.children),r.a.createElement("section",{className:"modal__actions"},r.a.createElement(b,{type:"button",onClick:e.onClose},"Okay")))},y=(a(65),function(e){return r.a.createElement("div",{className:e.show?"backdrop show":"backdrop"})}),C=a(2),O=(a(68),function(e){return r.a.createElement("section",{className:"products"},e.products.map(function(t){return r.a.createElement(g,{key:t._id,id:t._id,title:t.name,text:t.description,price:t.price,imageUrl:t.image,onDelete:e.onDeleteProduct})}))}),_=a(15),w=a.n(_),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,products:[]},a.productDeleteHandler=function(e){C.b.defaultAppClient.getServiceClient(C.a.factory,"mongodb-atlas").db("shop").collection("products").deleteOne({_id:new w.a.ObjectId(e)}).then(function(e){console.log(e),a.fetchData()}).catch(function(e){a.props.onError("Deleting the product failed. Please try again later"),console.log(e)})},a.fetchData=function(){C.b.defaultAppClient.getServiceClient(C.a.factory,"mongodb-atlas").db("shop").collection("products").find().asArray().then(function(e){console.log("!!!!!!~~~~~~~",e);e.map(function(e){e._id=e._id.toString(),e.price=e.price.toString()});a.setState({isLoading:!1,products:e})}).catch(function(e){a.setState({isLoading:!1}),a.props.onError("Fetching the product failed. Please try again later")})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=r.a.createElement("p",null,"Loading products...");return!this.state.isLoading&&this.state.products.length>0&&(e=r.a.createElement(O,{products:this.state.products,onDeleteProduct:this.productDeleteHandler})),this.state.isLoading||0!==this.state.products.length||(e=r.a.createElement("p",null,"Found no products. Try again later.")),r.a.createElement("main",null,e)}}]),t}(n.Component),S=(a(75),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,product:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.b.defaultAppClient.getServiceClient(C.a.factory,"mongodb-atlas").db("shop").collection("products").find({_id:new w.a.ObjectId(this.props.match.params.id)}).asArray().then(function(t){var a=t[0];a._id=a._id.toString(),a.price=a.price.toString(),e.setState({isLoading:!1,product:a})}).catch(function(t){e.setState({isLoading:!1}),console.log(t),e.props.onError("Loading the product failed. Please try again later")})}},{key:"render",value:function(){var e=r.a.createElement("p",null,"Is loading...");return!this.state.isLoading&&this.state.product&&(e=r.a.createElement("main",{className:"product-page"},r.a.createElement("h1",null,this.state.product.name),r.a.createElement("h2",null,this.state.product.price),r.a.createElement("div",{className:"product-page__image",style:{backgroundImage:"url('"+this.state.product.image+"')"}}),r.a.createElement("p",null,this.state.product.description))),this.state.isLoading||this.state.product||(e=r.a.createElement("main",null,r.a.createElement("p",null,"Found no product. Try again later."))),e}}]),t}(n.Component)),A=a(24),k=(a(76),a(77),function(e){var t=r.a.createElement("input",Object.assign({},e.config,{onChange:e.onChange}));return"textarea"===e.elType&&(t=r.a.createElement("textarea",Object.assign({},e.config,{onChange:e.onChange}))),r.a.createElement("div",{className:"input"},r.a.createElement("label",null,e.label),t)}),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,title:"",price:"",imageUrl:"",description:""},a.editProductHandler=function(e){if(e.preventDefault(),""!==a.state.title.trim()&&""!==a.state.price.trim()&&""!==a.state.imageUrl.trim()&&""!==a.state.description.trim()){a.setState({isLoading:!0});var t={name:a.state.title,price:w.a.Decimal128.fromString(a.state.price.toString()),image:a.state.imageUrl,description:a.state.description},n=C.b.defaultAppClient.getServiceClient(C.a.factory,"mongodb-atlas");("edit"===a.props.match.params.mode?n.db("shop").collection("products").updateOne({_id:new w.a.ObjectId(a.props.match.params.id)},t):n.db("shop").collection("products").insertOne(t)).then(function(e){console.log(e),a.setState({isLoading:!1}),a.props.history.replace("/products")}).catch(function(e){a.setState({isLoading:!1}),console.log(e),a.props.onError("Editing or adding the product failed. Please try again later")})}},a.inputChangeHandler=function(e,t){a.setState(Object(A.a)({},t,e.target.value))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;"edit"===this.props.match.params.mode?C.b.defaultAppClient.getServiceClient(C.a.factory,"mongodb-atlas").db("shop").collection("products").find({_id:new w.a.ObjectId(this.props.match.params.id)}).asArray().then(function(t){var a=t[0];a._id=a._id.toString(),a.price=a.price.toString(),e.setState({isLoading:!1,title:a.name,price:a.price,imageUrl:a.image,description:a.description})}).catch(function(t){e.setState({isLoading:!1}),console.log(t),e.props.onError("Loading the product failed. Please try again later")}):this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this,t=r.a.createElement("form",{className:"edit-product__form",onSubmit:this.editProductHandler},r.a.createElement(k,{label:"Title",config:{type:"text",value:this.state.title},onChange:function(t){return e.inputChangeHandler(t,"title")}}),r.a.createElement(k,{label:"Price",config:{type:"number",value:this.state.price},onChange:function(t){return e.inputChangeHandler(t,"price")}}),r.a.createElement(k,{label:"Image URL",config:{type:"text",value:this.state.imageUrl},onChange:function(t){return e.inputChangeHandler(t,"imageUrl")}}),r.a.createElement(k,{label:"Description",elType:"textarea",config:{rows:"5",value:this.state.description},onChange:function(t){return e.inputChangeHandler(t,"description")}}),r.a.createElement(b,{type:"submit"},"add"===this.props.match.params.mode?"Create Product":"Update Product"));return this.state.isLoading&&(t=r.a.createElement("p",null,"Is loading...")),r.a.createElement("main",null,t)}}]),t}(n.Component),L=(a(78),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.inputChangeHandler=function(e,t){a.setState(Object(A.a)({},t,e.target.value))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t="Switch to Signup",a="Login";return"signup"===this.props.mode&&(t="Switch to Login",a="Signup"),r.a.createElement("main",null,r.a.createElement("section",{className:"auth__mode-control"},r.a.createElement(b,{type:"button",onClick:this.props.onAuthModeChange},t)),r.a.createElement("form",{className:"auth__form",onSubmit:function(t){return e.props.onAuth(t,{email:e.state.email,password:e.state.password})}},r.a.createElement(k,{label:"E-Mail",config:{type:"email"},onChange:function(t){return e.inputChangeHandler(t,"email")}}),r.a.createElement(k,{label:"Password",config:{type:"password"},onChange:function(t){return e.inputChangeHandler(t,"password")}}),r.a.createElement(b,{type:"submit"},a)))}}]),t}(n.Component)),H=(a(79),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.location.search,a=new URLSearchParams(t),n=a.get("token"),r=a.get("tokenId");C.b.defaultAppClient.auth.getProviderClient(C.c.factory).confirmUser(n,r).then(function(){e.props.history.replace("/")}).catch(function(e){console.log(e)}),console.log("Account confirmed"),this.props.history.replace("/")}},{key:"render",value:function(){return r.a.createElement("main",{className:"confirm-account-page"},r.a.createElement("p",null,"Confirming Account..."))}}]),t}(n.Component));var D=function(){return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/roster"},"Roster")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/schedule"},"Schedule")))))};var M=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to the Tornadoes Website!"))},P={players:[{number:1,name:"Ben Blocker",position:"G"},{number:2,name:"Dave Defender",position:"D"},{number:3,name:"Sam Sweeper",position:"D"},{number:4,name:"Matt Midfielder",position:"M"},{number:5,name:"William Winger",position:"M"},{number:6,name:"Fillipe Forward",position:"F"}],all:function(){return this.players},get:function(e){return this.players.find(function(t){return t.number===e})}};var x=function(e){var t=P.get(parseInt(e.match.params.number,10));return t?r.a.createElement("div",null,r.a.createElement("h1",null,t.name," (#",t.number,")"),r.a.createElement("h2",null,t.position)):r.a.createElement("div",null,"Sorry, but the player was not found")};var U=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,P.all().map(function(e){return r.a.createElement("li",{key:e.number},r.a.createElement(h.b,{to:"/roster/".concat(e.number)},e.name))})))};var I=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"This is a roster page!"),r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/roster",component:U}),r.a.createElement(f.b,{path:"/roster/:number",component:x})))};var W=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"6/5 @ Evergreens"),r.a.createElement("li",null,"6/8 vs Kickers"),r.a.createElement("li",null,"6/14 @ United")))};var T=function(){return r.a.createElement("main",null,r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:M}),r.a.createElement(f.b,{path:"/roster",component:I}),r.a.createElement(f.b,{path:"/schedule",component:W})))},B=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={isAuth:!1,authMode:"login",error:null},e.authHandler=function(t,a){if(t.preventDefault(),""!==a.email.trim()&&""!==a.password.trim()){var n,r=e.client.auth.getProviderClient(C.c.factory);if("login"===e.state.authMode){var o=new C.d(a.email,a.password);n=e.client.auth.loginWithCredential(o)}else n=r.registerWithEmail(a.email,a.password);n.then(function(t){console.log(t),t&&e.setState({isAuth:!0})}).catch(function(t){console.log(t),e.errorHandler("An error occurred."),console.log(t),e.setState({isAuth:!1})})}},e.authModeChangedHandler=function(){e.setState(function(e){return{authMode:"login"===e.authMode?"signup":"login"}})},e.errorHandler=function(t){e.setState({error:t})},e.client=C.b.initializeDefaultAppClient("processstudio-lwtbf"),console.log("constructor !!!"),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(f.d,null,r.a.createElement(f.a,{from:"/",to:"/products",exact:!0}),r.a.createElement(f.a,{from:"/auth",to:"/products",exact:!0}),r.a.createElement(f.a,{from:"/signup",to:"/products",exact:!0}),r.a.createElement(f.b,{path:"/product/:mode",render:function(t){return r.a.createElement(N,Object.assign({},t,{onError:e.errorHandler}))}}),r.a.createElement(f.b,{path:"/products/:id/:mode",render:function(t){return r.a.createElement(N,Object.assign({},t,{onError:e.errorHandler}))}}),r.a.createElement(f.b,{path:"/products/:id",render:function(t){return r.a.createElement(S,Object.assign({},t,{onError:e.errorHandler}))}}),r.a.createElement(f.b,{path:"/products",render:function(t){return r.a.createElement(j,Object.assign({},t,{onError:e.errorHandler}))}}));return this.state.isAuth||(t=r.a.createElement(f.d,null,r.a.createElement(f.a,{from:"/",to:"/auth",exact:!0}),r.a.createElement(f.a,{from:"/products",to:"/auth"}),r.a.createElement(f.a,{from:"/product",to:"/auth"}),r.a.createElement(f.b,{path:"/confirm-account",component:H}),r.a.createElement(f.b,{path:"/auth",render:function(){return r.a.createElement(L,{mode:e.state.authMode,onAuth:e.authHandler,onAuthModeChange:e.authModeChangedHandler})}}))),r.a.createElement("div",{className:"App"},r.a.createElement(v,{open:!!this.state.error,title:"An Error Occurred",onClose:function(){return e.errorHandler(null)}},r.a.createElement("p",null,this.state.error)),r.a.createElement(y,{show:!!this.state.error}),r.a.createElement(E,{authenticated:this.state.isAuth,onLogout:this.logoutHandler}),t)}},{key:"render2",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement(T,null)),r.a.createElement("header",{className:"App-header"},r.a.createElement(y,{show:!!this.state.error}),r.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),r.a.createElement("a",{className:"App-link",href:"E:\\GitHub\\LandingPage"},"E:\\GitHub\\LandingPage\\"),r.a.createElement("a",{className:"App-link",href:"E:\\landingpage"},"E:\\landingpage"),r.a.createElement("a",{className:"App-link",href:"E:\\MyMongoDB"},"E:\\MyMongoDB"),r.a.createElement("a",{className:"App-link",href:"E:\\MongoUdemyMax/18\\stitch-01-starting-code"},"E:\\MongoUdemyMax/18\\stitch-01-starting-code")),r.a.createElement(v,{open:!!this.state.error,title:"An Error Occurred",onClose:function(){return e.errorHandler(null)}},r.a.createElement("p",null,this.state.error)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(h.a,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,1,2]]]);
//# sourceMappingURL=main.628803a5.chunk.js.map